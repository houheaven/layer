/*!

 @Name：layer v2.1 弹层组件
 @Author：贤心
 @Site：http://layer.layui.com
 @License：LGPL
        
 */

;!function(window,undefined){"use strict";var $,win,ready={bs:function(){var aW=document.scripts,script=aW[aW.length-1],av=script.src;if(script.getAttribute('merge'))return;return av.substring(0,av.lastIndexOf("/")+1);}(),aU:function(e){if(e.keyCode===13)e.preventDefault();},config:{},end:{},btn:['&#x786E;&#x5B9A;','&#x53D6;&#x6D88;'],type:['dialog','page','iframe','loading','tips']};var layer={v:'2.1',bu: ! !window.ActiveXObject&& !window.XMLHttpRequest,index:0,path:ready.bs,config:function(options,O){var item=0;options=options||{};layer.cache=ready.config=$.extend(ready.config,options);layer.path=ready.config.path||layer.path;typeof options.extend==='string'&&(options.extend=[options.extend]);layer.use('skin/layer.css',(options.extend&&options.extend.length>0)?(function loop(){var ext=options.extend;layer.use(ext[ext[item]?item:item-1],item<ext.length?function(){++item;return loop;}():O);}()):O);return this;},use:function(G,O,ba){var i=0,head=$('head')[0];var G=G.replace(/\s/g,'');var am=/\.css$/.test(G);var aP=document.createElement(am?'link':'script');var id='layui_layer_'+G.replace(/\.|\//g,'');if(!layer.path)return;if(am){aP.rel='stylesheet';}aP[am?'href':'src']=/^http:\/\//.test(G)?G:layer.path+G;aP.id=id;if(!$('#'+id)[0]){head.appendChild(aP);};(function ah(){;(am?parseInt($('#'+id).css('width'))===1989:layer[ba||id])?function(){O&&O();try{am||head.removeChild(aP);}catch(e){};}():setTimeout(ah,100);}());return this;},ready:function(path,O){var type=typeof path==='function';if(type)O=path;layer.config($.extend(ready.config,function(){return type?{}:{path:path};}()),O);return this;},alert:function(content,options,yes){var type=typeof options==='function';var L=ready.config.skin;var skin=L?L+' '+L+'-alert':'';if(type)yes=options;return layer.open($.extend({title:"&#x4FE1;&#x606F;&#x63D0;&#x793A;",content:content,skin:skin,yes:yes},type?{}:options));},confirm:function(content,options,yes,cancel){var type=typeof options==='function';var L=ready.config.skin;var skin=L?L+' '+L+'-confirm':'';if(type){cancel=yes;yes=options;}return layer.open($.extend({title:"&#x4FE1;&#x606F;&#x786E;&#x8BA4;",content:content,btn:["&#x53D6;&#x6D88;","&#x786E;&#x5B9A;"],skin:skin,yes:yes,cancel:cancel},type?{}:options));},msg:function(content,options,end){var type=typeof options==='function',L=ready.config.skin;var skin=(L?L+' '+L+'-msg':'')||'layui-layer-msg';var shift=T.anim.length-1;if(type)end=options;return layer.open($.extend({content:content,time:2000,shade:false,skin:skin,title:false,R:false,btn:false,end:end},(type&& !ready.config.skin)?{skin:skin+' layui-layer-hui',shift:shift}:function(){options=options||{};if(options.icon=== -1||options.icon===undefined&& !ready.config.skin){options.skin=skin+' '+(options.skin||'layui-layer-hui');}return options;}()));},load:function(content,options){return layer.open($.extend({type:3,icon:0,shade:0.01,content:content||"&#x52A0;&#x8F7D;&#x4E2D;"},options));},tips:function(content,H,options){return layer.open($.extend({type:4,content:[content,H],R:false,time:3000,maxWidth:210},options));},prompt:function(options,yes){options=options||{};if(typeof options==='function')yes=options;var L=ready.config.skin;var skin=L?L+' '+L+'-prompt':'';var prompt,content;switch(options.formType){case 1:content='<input type="password" class="layui-layer-input" value="'+(options.value||'')+'" maxlength="'+(options.maxlength||500)+'" />';break;case 2:content='<textarea class="layui-layer-input">'+(options.value||'')+'</textarea>';break;case 3:content='<input type="tel" class="layui-layer-input" value="'+(options.value||'')+'" maxlength="'+(options.maxlength||500)+'" />';break;default:content='<input type="text" class="layui-layer-input" value="'+(options.value||'')+'" maxlength="'+(options.maxlength||500)+'" />';}return layer.open($.extend({title:"&#x4FE1;&#x606F;&#x8F93;&#x5165;",btn:['&#x53D6;&#x6D88;','&#x786E;&#x5B9A;'],content:content,skin:skin,success:function(C){prompt=C.find('.layui-layer-input');prompt.focus();},yes:function(index){var value=prompt.val();if(value===''){prompt.css({border:"1px solid #f66"});setTimeout(function(){prompt.focus().css({border:"1px solid #e5e5e5"});},1000);}else if(value.length>(options.maxlength||500)){layer.tips('&#x6700;&#x591A;&#x8F93;&#x5165;'+(options.maxlength||500)+'&#x4E2A;&#x5B57;&#x6570;',prompt,{tips:1});}else{yes&&yes(value,index,prompt);}}},options));}};var Class=function(bK){var j=this;j.index= ++layer.index;j.config=$.extend({},j.config,ready.config,bK);j.bC();};Class.pt=Class.prototype;var T=['layui-layer','.layui-layer-title','.layui-layer-main','.layui-layer-dialog','layui-layer-iframe','layui-layer-content','layui-layer-btn','layui-layer-close'];T.anim=['layui-anim','layui-anim-01','layui-anim-02','layui-anim-03','layui-anim-04','layui-anim-05','layui-anim-06'];Class.pt.config={type:0,shade:0.5,k:true,move:T[1],title:'&#x4FE1;&#x606F;',offset:'auto',area:'auto',R:0,time:0,zIndex:19891014,maxWidth:360,shift:0,icon: -1,scrollbar:false,tips:2};Class.pt.aE=function(conType,by){var j=this,times=j.index,config=j.config;var zIndex=config.zIndex+times,bx=typeof config.title==='object';var bp=config.maxmin&&(config.type===1||config.type===2);var bQ=(config.title?'<div class="layui-layer-title" style="'+(bx?config.title[1]:'')+'">'+(bx?config.title[0]:config.title)+'</div>':'');config.zIndex=zIndex;by([config.shade?('<div class="layui-layer-shade" id="layui-layer-shade'+times+'" times="'+times+'" style="'+('z-index:'+(zIndex-1)+'; background-color:'+(config.shade[1]||'#000')+'; opacity:'+(config.shade[0]||config.shade)+'; filter:alpha(opacity='+(config.shade[0]*100||config.shade*100)+');')+'"></div>'):'','<div class="'+T[0]+' '+(T.anim[config.shift]||'')+(' layui-layer-'+ready.type[config.type])+(((config.type==0||config.type==2)&& !config.shade)?' layui-layer-border':'')+' '+(config.skin||'')+'" id="'+T[0]+times+'" type="'+ready.type[config.type]+'" times="'+times+'" showtime="'+config.time+'" conType="'+(conType?'object':'string')+'" style="z-index: '+zIndex+'; width:'+config.area[0]+';height:'+config.area[1]+(config.k?'':';position:absolute;')+'">'+(conType&&config.type!=2?'':bQ)+'<div class="layui-layer-content'+((config.type==0&&config.icon!== -1)?' layui-layer-padding':'')+(config.type==3?' layui-layer-loading'+config.icon:'')+'">'+(config.type==0&&config.icon!== -1?'<i class="layui-layer-ico layui-layer-ico'+config.icon+'"></i>':'')+(config.type==1&&conType?'':(config.content||''))+'</div>'+'<span class="layui-layer-setwin">'+function(){var al=bp?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':'';config.R&&(al+='<a class="layui-layer-ico '+T[7]+' '+T[7]+(config.title?config.R:(config.type==4?'1':'2'))+'" href="javascript:;"></a>');return al;}()+'</span>'+(config.btn?function(){var button='';typeof config.btn==='string'&&(config.btn=[config.btn]);for(var i=0,aq=config.btn.length;i<aq;i++){button+='<a class="'+T[6]+''+i+'">'+config.btn[i]+'</a>'}return '<div class="'+T[6]+'">'+button+'</div>'}():'')+'</div>'],bQ);return j;};Class.pt.bC=function(){var j=this,config=j.config,times=j.index,aT;var content=config.content,conType=typeof content==='object';if(typeof config.area==='string'){config.area=config.area==='auto'?['','']:[config.area,''];}switch(config.type){case 0:config.btn=('btn'in config)?config.btn:ready.btn[0];layer.closeAll('dialog');break;case 2:var content=config.content=conType?config.content:[config.content||'http://layer.layui.com','auto'];config.content='<iframe scrolling="'+(config.content[1]||'auto')+'" allowtransparency="true" id="'+T[4]+''+times+'" name="'+T[4]+''+times+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+config.content[0]+'"></iframe>';break;case 3:config.title=false;config.R=false;config.icon=== -1&&(config.icon===0);layer.closeAll('loading');break;case 4:conType||(config.content=[config.content,'body']);config.H=config.content[1];config.content=config.content[0]+'<i class="layui-layer-TipsG"></i>';config.title=false;config.shade=false;config.k=false;config.tips=typeof config.tips==='object'?config.tips:[config.tips,true];config.bU||layer.closeAll('tips');break;}j.aE(conType,function(html,bQ){$('body').append(html[0]);conType?function(){(config.type==2||config.type==4)?function(){$('body').append(html[1]);}():function(){if(!content.parents('.'+T[0])[0]){content.show().addClass('layui-layer-wrap').wrap(html[1]);$('#'+T[0]+times).find('.'+T[5]).before(bQ);}}();}():$('body').append(html[1]);j.C=$('#'+T[0]+times);config.scrollbar||T.html.css('overflow','hidden').attr('layer-full',times);}).auto(times);config.type==2&&layer.bu&&j.C.find('iframe').attr('src',content[0]);$(document).off('keydown',ready.aU).on('keydown',ready.aU);j.C.on('keydown',function(e){$(document).off('keydown',ready.aU);});config.type==4?j.tips():j.offset();if(config.k){win.on('resize',function(){j.offset();(/^\d+%$/.test(config.area[0])||/^\d+%$/.test(config.area[1]))&&j.auto(times);config.type==4&&j.tips();});}config.time<=0||setTimeout(function(){layer.close(j.index)},config.time);j.move().by();};Class.pt.auto=function(index){var j=this,config=j.config,C=$('#'+T[0]+index);if(config.area[0]===''&&config.maxWidth>0){if(/MSIE 7/.test(navigator.userAgent)&&config.btn){C.width(C.innerWidth());}C.outerWidth()>config.maxWidth&&C.width(config.maxWidth);}var area=[C.innerWidth(),C.innerHeight()];var J=C.find(T[1]).outerHeight()||0;var aA=C.find('.'+T[6]).outerHeight()||0;function aC(be){be=C.find(be);be.height(area[1]-J-aA-2*(parseFloat(be.css('padding'))|0));};switch(config.type){case 2:aC('iframe');break;default:if(config.area[1]===''){if(config.k&&area[1]>=win.height()){area[1]=win.height();aC('.'+T[5]);}}else{aC('.'+T[5]);}break;}return j;};Class.pt.offset=function(){var j=this,config=j.config,C=j.C;var area=[C.outerWidth(),C.outerHeight()];var type=typeof config.offset==='object';j.offsetTop=(win.height()-area[1])/2;j.offsetLeft=(win.width()-area[0])/2;if(type){j.offsetTop=config.offset[0];j.offsetLeft=config.offset[1]||j.offsetLeft;}else if(config.offset!=='auto'){j.offsetTop=config.offset;if(config.offset==='rb'){j.offsetTop=win.height()-area[1];j.offsetLeft=win.width()-area[0];}}if(!config.k){j.offsetTop=/%$/.test(j.offsetTop)?win.height()*parseFloat(j.offsetTop)/100:parseFloat(j.offsetTop);j.offsetLeft=/%$/.test(j.offsetLeft)?win.width()*parseFloat(j.offsetLeft)/100:parseFloat(j.offsetLeft);j.offsetTop+=win.scrollTop();j.offsetLeft+=win.scrollLeft();}if(C.is(".layer-ext-hhskin-msg")&&C.outerWidth()>250){C.width(250);j.offsetTop=(win.height()-C.outerHeight())/2;j.offsetLeft=(win.width()-250)/2;}C.css({top:j.offsetTop,left:j.offsetLeft});};Class.pt.tips=function(){var j=this,config=j.config,C=j.C;var h=[C.outerWidth(),C.outerHeight()],H=$(config.H);if(!H[0])H=$('body');var t={width:H.outerWidth(),height:H.outerHeight(),top:H.offset().top,left:H.offset().left},F=C.find('.layui-layer-TipsG');var aF=config.tips[0];config.tips[1]||F.remove();t.bo=function(){if(t.left+h[0]-win.width()>0){t.aO=t.left+t.width-h[0];F.css({right:12,left:'auto'});}else{t.aO=t.left;};};t.bw=[function(){t.bo();t.bD=t.top-h[1]-10;F.removeClass('layui-layer-TipsB').addClass('layui-layer-TipsT').css('border-right-color',config.tips[1]);},function(){t.aO=t.left+t.width+10;t.bD=t.top;F.removeClass('layui-layer-TipsL').addClass('layui-layer-TipsR').css('border-bottom-color',config.tips[1]);},function(){t.bo();t.bD=t.top+t.height+10;F.removeClass('layui-layer-TipsT').addClass('layui-layer-TipsB').css('border-right-color',config.tips[1]);},function(){t.aO=t.left-h[0]-10;t.bD=t.top;F.removeClass('layui-layer-TipsR').addClass('layui-layer-TipsL').css('border-bottom-color',config.tips[1]);}];t.bw[aF-1]();if(aF===1){t.top-(win.scrollTop()+h[1]+8*2)<0&&t.bw[2]();}else if(aF===2){win.width()-(t.left+t.width+h[0]+8*2)>0||t.bw[3]()}else if(aF===3){(t.top-win.scrollTop()+t.height+h[1]+8*2)-win.height()>0&&t.bw[0]();}else if(aF===4){h[0]+8*2-t.left>0&&t.bw[1]()}C.find('.'+T[5]).css({'background-color':config.tips[1],'padding-right':(config.R?'30px':'')});C.css({left:t.aO,top:t.bD});};Class.pt.move=function(){var j=this,config=j.config,l={K:0,bb:function(){var C=l.C,an=parseInt(C.css('margin-left'));var bH=parseInt(l.move.css('left'));an===0||(bH=bH-an);if(C.css('position')!=='fixed'){bH=bH-C.parent().offset().left;l.K=0;}C.css({left:bH,top:parseInt(l.move.css('top'))-l.K});}};var bg=j.C.find(config.move);config.move&&bg.attr('move','ok');bg.css({cursor:config.move?'move':'auto'});$(config.move).on('mousedown',function(M){M.preventDefault();if($(this).attr('move')==='ok'){l.aB=true;l.C=$(this).parents('.'+T[0]);var xx=l.C.offset().left,yy=l.C.offset().top,bL=l.C.outerWidth()-6,bP=l.C.outerHeight()-6;if(!$('#layui-layer-moves')[0]){$('body').append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+xx+'px; top:'+yy+'px; width:'+bL+'px; height:'+bP+'px; z-index:2147483584"></div>');}l.move=$('#layui-layer-moves');config.as&&l.move.css({visibility:'hidden'});l.bd=M.pageX-l.move.position().left;l.bO=M.pageY-l.move.position().top;l.C.css('position')!=='fixed'||(l.K=win.scrollTop());}});$(document).mousemove(function(M){if(l.aB){var offsetX=M.pageX-l.bd,offsetY=M.pageY-l.bO;M.preventDefault();if(!config.bf){l.K=win.scrollTop();var ar=win.width()-l.move.outerWidth(),ak=l.K;offsetX<0&&(offsetX=0);offsetX>ar&&(offsetX=ar);offsetY<ak&&(offsetY=ak);offsetY>win.height()-l.move.outerHeight()+l.K&&(offsetY=win.height()-l.move.outerHeight()+l.K);}l.move.css({left:offsetX,top:offsetY});config.as&&l.bb();offsetX=offsetY=ar=ak=null;}}).mouseup(function(){try{if(l.aB){l.bb();l.move.remove();config.moveEnd&&config.moveEnd();}l.aB=false;}catch(e){l.aB=false;}});return j;};Class.pt.by=function(){var j=this,C=j.C,config=j.config;j.aX();if(config.success){if(config.type==2){C.find('iframe').on('load',function(){config.success(C,j.index);});}else{config.success(C,j.index);}}layer.bu&&j.bB(C);var aa=$('.'+T[6]+' a').length;C.find('.'+T[6]).children('a').on('click',function(){var index=$(this).index();config['btn'+(index+1)]&&config['btn'+(index+1)](j.index,C);switch(aa){case 1:config.yes?config.yes(j.index,C):layer.close(j.index);break;case 2:if(index==0)cancel();else config.yes?config.yes(j.index,C):layer.close(j.index);break;default:config['btn'+(index+1)]||layer.close(j.index);}});function cancel(){var close=config.cancel&&config.cancel(j.index);close===false||layer.close(j.index);};C.find('.'+T[7]).on('click',cancel);if(config.bI){$('#layui-layer-shade'+j.index).on('click',function(){layer.close(j.index);});}C.find('.layui-layer-min').on('click',function(){layer.min(j.index,config);config.min&&config.min(C);});C.find('.layui-layer-max').on('click',function(){if($(this).hasClass('layui-layer-maxmin')){layer.restore(j.index);config.restore&&config.restore(C);}else{layer.full(j.index,config);config.full&&config.full(C);}});config.end&&(ready.end[j.index]=config.end);};ready.aK=function(){$.each($('select'),function(index,value){var V=$(this);if(!V.parents('.'+T[0])[0]){(V.attr('layer')==1&&$('.'+T[0]).length<1)&&V.removeAttr('layer').show();}V=null;});};Class.pt.bB=function(C){var j=this,aQ=C.offset().top;function aV(){C.css({top:aQ+(j.config.k?win.scrollTop():0)});};aV();win.scroll(aV);$('select').each(function(index,value){var V=$(this);if(!V.parents('.'+T[0])[0]){V.css('display')==='none'||V.attr({'layer':'1'}).hide();}V=null;});};Class.pt.aX=function(){var j=this;layer.zIndex=j.config.zIndex;layer.ak=function(C){var ai=function(){layer.zIndex++;C.css('z-index',layer.zIndex+1);};layer.zIndex=parseInt(C[0].style.zIndex);C.on('mousedown',ai);return layer.zIndex;};};ready.aL=function(C){var area=[C.outerWidth(),C.outerHeight(),C.position().top,C.position().left+parseFloat(C.css('margin-left'))];C.find('.layui-layer-max').addClass('layui-layer-maxmin');C.attr({area:area});};ready.bA=function(index){if(T.html.attr('layer-full')==index){if(T.html[0].style.removeProperty){T.html[0].style.removeProperty('overflow');}else{T.html[0].style.removeAttribute('overflow');}T.html.removeAttr('layer-full');}};window.layer=layer;layer.az=function(selector,index){index=index||$('.'+T[4]).attr('times');return $('#'+T[0]+index).find('iframe').contents().find(selector);};layer.bM=function(name){return $('#'+name).parents('.'+T[4]).attr('times');};layer.bG=function(index){if(!index)return;var bq=layer.az('html',index).outerHeight();var C=$('#'+T[0]+index);var J=C.find(T[1]).outerHeight()||0;var aA=C.find('.'+T[6]).outerHeight()||0;C.css({height:bq+J+aA});C.find('iframe').css({height:bq});};layer.aJ=function(index,url){$('#'+T[0]+index).find('iframe').attr('src',url);};layer.style=function(index,options){var C=$('#'+T[0]+index),type=C.attr('type');var J=C.find(T[1]).outerHeight()||0;var aA=C.find('.'+T[6]).outerHeight()||0;if(type===ready.type[1]||type===ready.type[2]){C.css(options);if(type===ready.type[2]){C.find('iframe').css({height:parseFloat(options.height)-J-aA});}}};layer.min=function(index,options){var C=$('#'+T[0]+index);var J=C.find(T[1]).outerHeight()||0;ready.aL(C);layer.style(index,{width:180,height:J,overflow:'hidden'});C.find('.layui-layer-min').hide();C.attr('type')==='page'&&C.find(T[4]).hide();ready.bA(index);};layer.restore=function(index){var C=$('#'+T[0]+index),area=C.attr('area').split(',');var type=C.attr('type');layer.style(index,{width:parseFloat(area[0]),height:parseFloat(area[1]),top:parseFloat(area[2]),left:parseFloat(area[3]),overflow:'visible'});C.find('.layui-layer-max').removeClass('layui-layer-maxmin');C.find('.layui-layer-min').show();C.attr('type')==='page'&&C.find(T[4]).show();ready.bA(index);};layer.full=function(index){var C=$('#'+T[0]+index),aR;ready.aL(C);if(!T.html.attr('layer-full')){T.html.css('overflow','hidden').attr('layer-full',index);}clearTimeout(aR);aR=setTimeout(function(){var bm=C.css('position')==='fixed';layer.style(index,{top:bm?0:win.scrollTop(),left:bm?0:win.scrollLeft(),width:win.width(),height:win.height()});C.find('.layui-layer-min').hide();},100);};layer.title=function(name,index){var title=$('#'+T[0]+(index||layer.index)).find(T[1]);title.html(name);};layer.close=function(index){var C=$('#'+T[0]+index),type=C.attr('type');if(!C[0])return;if(type===ready.type[1]&&C.attr('conType')==='object'){C.children(':not(.'+T[5]+')').remove();for(var i=0;i<2;i++){C.find('.layui-layer-wrap').unwrap().hide();}}else{if(type===ready.type[2]){try{var iframe=$('#'+T[4]+index)[0];iframe.contentWindow.document.write('');iframe.contentWindow.close();C.find('.'+T[5])[0].removeChild(iframe);}catch(e){}}C[0].innerHTML='';C.remove();}$('#layui-layer-moves, #layui-layer-shade'+index).remove();layer.bu&&ready.aK();ready.bA(index);$(document).off('keydown',ready.aU);typeof ready.end[index]==='function'&&ready.end[index]();delete ready.end[index];};layer.closeAll=function(type){$.each($('.'+T[0]),function(){var bJ=$(this);var is=type?(bJ.attr('type')===type):1;is&&layer.close(bJ.attr('times'));is=null;});};ready.aG=function(){$=jQuery;win=$(window);T.html=$('html');layer.open=function(bz){var o=new Class(bz);return o.index;};};'function'===typeof bk?bk(function(){ready.aG();return layer;}):function(){ready.aG();layer.use('skin/layer.css');}();}(window);layer.config({extend:'skin/hhskin.css',skin:'layer-ext-hhskin'}); 